<div class="card">
  <div class="card-header">
    <h4 class="card-title">Finalizar venta</h4>
    <div class="card-tools">
      <button type="button" class="btn btn-tool" (click)="loadData()">
        <i class="fas fa-sync-alt"></i>
      </button>
    </div>
  </div>

  <div class="card-body">
    <form [formGroup]="clientForm" (submit)="generarVenta()" class="form">
      <div class="form-group">
        <ng-select formControlName="id_cliente" id="" name="" required>
          <option value="" selected disabled>Seleccione</option>
          <ng-option *ngFor="let item of clients" value="{{ item.rut }}">
            {{ item.nombre }} - {{ item.rut }}
          </ng-option>
        </ng-select>
      </div>
      <div class="form-group">
        <ng-select formControlName="id_medio_pago" id="" name="" required>
          <option value="" selected disabled>Seleccione</option>
          <ng-option *ngFor="let item of medioDePago" value="{{ item.id }}">
            {{ item.medio_de_pago }}
          </ng-option>
        </ng-select>
      </div>
      <div class="form-group">
        <ng-select
          formControlName="id_tipo_documento"
          id=""
          name=""
          required
          (change)="changeDocumentType()"
        >
          <option value="" selected disabled>Seleccione</option>
          <ng-option *ngFor="let item of documentTypes" value="{{ item.id }}">
            {{ item.tipo }}
          </ng-option>
        </ng-select>
      </div>
      <div class="form-group">
        <label for="">Numero documento</label>
        <input
          type="number"
          class="form-control"
          min="0"
          formControlName="numero_documento"
          required
        />
      </div>
    </form>
    <div class="justify-cont" *ngIf="extraCosts.length !== 0">
      <div><label for="">Costos extra</label></div>
      <ul>
        @for (item of extraCosts; track $index) {
        <li>{{ item.name }}: ${{ item.value | number }}</li>
        }
      </ul>
    </div>
    <div class="row justify-cont">
      <!-- Total -->

      <!-- Save and cancel buttons -->

      <!-- Pay button -->
      <div class="col">
        <button
          class="btn btn-outline-success"
          (click)="showExtraSalesCostModal()"
        >
          Agregar costos extra <i class="fas fa-plus-circle"></i>
        </button>
      </div>
      <div class="col">
        <button class="btn btn-outline-primary" (click)="generarVenta()">
          Generar venta <i class="far fa-check-circle"></i>
        </button>
      </div>
    </div>
  </div>
</div>
